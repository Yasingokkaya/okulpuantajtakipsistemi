<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Okul Puantaj Sistemi</title>
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="apple-touch-icon" href="favicon.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#192a56" />
    <link href="https://unpkg.com/slim-select@latest/dist/slimselect.css" rel="stylesheet">
    </link>
    <script src="https://cdn.jsdelivr.net/npm/slim-select@latest/dist/slimselect.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="spinner-overlay" id="global-spinner">
        <div class="spinner"></div>
    </div>
    <header class="mobile-header">
        <button id="hamburger-btn">‚ò∞</button>
        <img src="logo.png" alt="Okul Logosu" class="mobile-logo">
        <span class="mobile-title">Okul Puantaj Sistemi</span>
    </header>
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

   <div id="login-panel" class="login-wrapper">
    <div class="login-card">
        <h2 class="login-title">Okul Puantaj Sistemi</h2>
        <p style="text-align: center; color: #7f8c8d; margin-bottom: 25px; font-size: 0.95rem;">Y√∂netici Paneli Giri≈üi</p>

        <div class="form-group">
            <label for="login-email" style="font-weight: 600; color: #2c3e50;">E-posta Adresi</label>
            <input type="email" id="login-email" placeholder="ornek@okul.com" style="background-color: #f8f9fa;">
        </div>

        <div class="form-group">
            <label for="login-password" style="font-weight: 600; color: #2c3e50;">≈ûifre</label>
            <input type="password" id="login-password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="background-color: #f8f9fa;">
        </div>

        <p id="login-error" style="color: #dc3545; background-color: #ffebee; padding: 10px; border-radius: 5px; text-align: center; display: none; font-size: 0.9rem; margin-bottom: 15px; border: 1px solid #ffcdd2;"></p>

        <button id="login-btn" class="btn btn-save" style="width: 100%; padding: 14px; font-size: 16px; font-weight: 600; letter-spacing: 0.5px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            Giri≈ü Yap
        </button>

        <div style="margin-top: 25px; text-align: center; font-size: 12px; color: #bdc3c7;">
            &copy; 2026 Okul Y√∂netim Sistemi
        </div>
    </div>
</div>


    <div id="toast-container"></div>
    <div class="app-container" style="display: none;">


        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="logo.png" alt="Okul Puantaj Sistemi Logosu">
                <div id="school-selector-container" style="width: 100%; padding: 10px 0; display: none;">
                    <label for="school-selector" style="font-size: 0.8em; color: #bdc3c7;">Okul Deƒüi≈ütir</label>
                    <select id="school-selector">
                        <option>Y√ºkleniyor...</option>
                    </select>
                </div>
            </div>

            <nav>
                <ul class="sidebar-nav">
                    <li><a class="nav-link active" data-target="dashboard">üè† <span>Ana Sayfa</span></a></li>
                    <li class="menu-item-group">
                        <a class="accordion-trigger nav-link">üë• <span>Personel Y√∂netimi</span></a>
                        <ul class="sub-menu">
                            <li><a id="open-add-staff-modal"><span>Yeni Personel Ekle</span></a></li>
                            <li><a class="nav-link" data-target="staff-list"><span>Personel Listesi</span></a></li>
                        </ul>
                    </li>
                    <li><a class="nav-link" data-target="ders-programi">üìÖ <span>Ders Programƒ±</span></a></li>
                    <li><a class="nav-link" data-target="gorevlendirme">üìù <span>G√∂revlendirmeler</span></a></li>
                    <li><a class="nav-link" data-target="nobet-takip">üõ°Ô∏è <span>N√∂bet Takip</span></a></li>
                    <li><a class="nav-link" data-target="izin-takip">‚úàÔ∏è <span>ƒ∞zin Takip</span></a></li>
                    <li><a class="nav-link" data-target="puantaj">üìä <span>Puantaj Cetveli</span></a></li>
                    <li id="super-admin-link" style="display: none;"><a class="nav-link"
                            data-target="super-admin-panel">üîë <span>S√ºper Admin</span></a></li>
                    <li><a class="nav-link" data-target="settings">‚öôÔ∏è <span>Ayarlar</span></a></li>
                </ul>
            </nav>

            <div class="sidebar-footer">
                <div id="user-email-display"
                    style="padding: 0 20px 10px; font-size: 0.8em; color: #bdc3c7; text-align: center; word-break: break-all;">
                </div>
                <a id="logout-btn" style="cursor: pointer;">üö™ <span>√áƒ±kƒ±≈ü Yap</span></a>
            </div>
        </aside>


        <main class="main-content">
            <div id="dashboard" class="module active">
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #e6f7ff; color: #0056b3;">üë•</div>
                        <div class="card-content">
                            <div class="card-title">Aktif Personel</div>
                            <div class="card-value" id="db-aktif-personel">Y√ºkleniyor...</div>
                            <div class="card-description">Sistemde kayƒ±tlƒ± toplam personel</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #fffbe6; color: #f39c12;">üõ°Ô∏è</div>
                        <div class="card-content">
                            <div class="card-title">Bug√ºn N√∂bet√ßi Olanlar</div>
                            <div class="card-list" id="db-gunun-nobetcileri-list">Y√ºkleniyor...</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #e6f7e9; color: #28a745;">‚úàÔ∏è</div>
                        <div class="card-content">
                            <div class="card-title">Bug√ºn ƒ∞zinli Olanlar</div>
                            <div class="card-list" id="db-bugun-izinliler-list">Y√ºkleniyor...</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #feefe8; color: #dc3545;">üìù</div>
                        <div class="card-content">
                            <div class="card-title">Bug√ºnk√º G√∂revlendirmeler</div>
                            <div class="card-list" id="db-bugun-gorevli-list">Y√ºkleniyor...</div>
                        </div>
                    </div>
                </div>
                <h3
                    style="margin-top: 35px; color: var(--dark-text-color); border-bottom: 2px solid var(--border-color); padding-bottom: 10px;">
                    Aylƒ±k √ñzet
                </h3>
                <div id="dashboard-month-filter"
                    style="display: flex; gap: 10px; align-items: center; margin-top: 15px; margin-bottom: 20px;">
                    <label for="dashboard-select-month" style="font-weight: 600; color: #555;">D√∂nem:</label>
                    <select id="dashboard-select-month"
                        style="padding: 8px; border-radius: 6px; border: 1px solid #ced4da; width: 150px;"></select>
                    <input type="number" id="dashboard-input-year" min="2020" max="2050"
                        style="padding: 8px; border-radius: 6px; border: 1px solid #ced4da; width: 100px;">
                </div>

                <div class="dashboard-grid" style="margin-top: 20px;">

                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #eefbec; color: #34a853;">‚ûï</div>
                        <div class="card-content">
                            <div class="card-title">Bu Ayki Toplam Ek Ders</div>
                            <div class="card-value" id="db-aylik-ekders">...</div>
                            <div class="card-description">T√ºm personel i√ßin</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #e9f2ff; color: #4285f4;">üõ°Ô∏è</div>
                        <div class="card-content">
                            <div class="card-title">Bu Ayki Toplam N√∂bet</div>
                            <div class="card-value" id="db-aylik-nobet">...</div>
                            <div class="card-description">Ek ders kar≈üƒ±lƒ±ƒüƒ±</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #fdf3e7; color: #fbbc05;">üß≠</div>
                        <div class="card-content">
                            <div class="card-title">Bu Ayki Toplam Rehberlik</div>
                            <div class="card-value" id="db-aylik-rehberlik">...</div>
                            <div class="card-description">Ek ders kar≈üƒ±lƒ±ƒüƒ±</div>
                        </div>
                    </div>

                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #feebee; color: #ea4335;">ü©∫</div>
                        <div class="card-content">
                            <div class="card-title">Bu Ay Raporlu Olanlar</div>
                            <div class="card-list" id="db-aylik-raporlular-list">Y√ºkleniyor...</div>
                        </div>
                    </div>
                </div>
                <div class="panel" style="margin-top: 25px;">
                    <div class="panel-header">
                        <h3>Hƒ±zlƒ± ƒ∞≈ülemler</h3>
                    </div>
                    <div class="panel-body quick-actions">
                        <a class="quick-action-btn nav-link" data-target="staff-list">üë• Personel Listesi</a>
                        <a class="quick-action-btn nav-link" data-target="gorevlendirme">üìù Yeni G√∂revlendirme</a>
                        <a class="quick-action-btn nav-link" data-target="izin-takip">‚úàÔ∏è Yeni ƒ∞zin Giri≈üi</a>
                        <a class="quick-action-btn nav-link" data-target="puantaj">üìä Puantaj Cetveli</a>
                    </div>
                </div>
            </div>

            <div id="staff-list" class="module">
                <div class="panel">
                    <div class="panel-header">
                        <h3>Personel Listesi</h3>
                        <button id="add-staff-from-list-btn" class="btn-header-add">Yeni Personel Ekle</button>
                    </div>
                    <div class="panel-body">

                        <div class="filter-container">
                            <div class="form-group">
                                <label for="search-personel-input">Personel Adƒ±na G√∂re Ara</label>
                                <input type="text" id="search-personel-input" placeholder="ƒ∞sim yazarak arayƒ±n...">
                            </div>
                            <div class="form-group">
                                <label for="filter-nevi-select">Personel Nevine G√∂re Filtrele</label>
                                <select id="filter-nevi-select">
                                    <option value="">T√ºm Neviler</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="filter-gorev-select">G√∂reve G√∂re Filtrele</label>
                                <select id="filter-gorev-select">
                                    <option value="">T√ºm G√∂revler</option>
                                </select>
                            </div>
                            <div class="form-group" style="align-self: flex-end;">
                                <button id="clear-personel-filters-btn" class="btn"
                                    style="width:100%; background-color:#6c757d;">Filtreleri Temizle</button>
                            </div>
                        </div>
                        <div id="personel-table-area">
                        </div>

                    </div>
                </div>
            </div>
            <div id="ders-programi" class="module">
                <div class="program-layout">

                    <div class="kontrol-paneli">
                        <div class="panel">
                            <div class="panel-header">
                                <h3>Kontrol Paneli</h3>
                            </div>
                            <div class="panel-body">
                                <div class="kontrol-paneli-bolumu">
                                    <h4>Manuel Giri≈ü / Hƒ±zlƒ± Ekle</h4>
                                    <div class="form-group">
                                        <label>G√ºn</label>
                                        <select id="gun">
                                            <option value="Pazartesi">Pazartesi</option>
                                            <option value="Salƒ±">Salƒ±</option>
                                            <option value="√áar≈üamba">√áar≈üamba</option>
                                            <option value="Per≈üembe">Per≈üembe</option>
                                            <option value="Cuma">Cuma</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Ders Saati</label>
                                        <select id="saat"></select>
                                    </div>
                                    <div class="form-group">
                                        <label>√ñƒüretmen</label>
                                        <select id="ogretmen">
                                            <option value="">√ñƒüretmen Se√ßin...</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Ders (Bran≈ü)</label>
                                        <select id="dersAdi">
                                            <option value="">Ders Se√ßin...</option>
                                        </select>
                                    </div>
                                    <button id="ekleBtn" class="btn"
                                        style="background-color: var(--theme-primary); width: 100%; padding: 10px;">Ekle</button>
                                </div>

                                <div class="kontrol-paneli-bolumu">
                                    <h4>Yerle≈ütirme Havuzu</h4>
                                    <p class="havuz-aciklama">Kalan dersleri buradan programa s√ºr√ºkleyip bƒ±rakƒ±n.</p>
                                    <div id="yerlestirme-havuzu-container" class="havuz-container">
                                    </div>
                                </div>

                                <div class="kontrol-paneli-bolumu">
                                    <h4>Versiyon Y√∂netimi</h4>
                                    <p id="aktif-versiyon-bilgisi"
                                        style="font-weight: bold; color: var(--theme-primary); background-color: #eef1f3; padding: 8px; border-radius: 4px;">
                                    </p>
                                    <p class="havuz-aciklama">Ge√ßmi≈ü bir versiyonu y√ºklemek i√ßin listeden se√ßin.</p>
                                    <ul id="versiyon-listesi" class="settings-list"
                                        style="max-height: 150px; margin-top: 10px;"></ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="program-alani">
                        <div class="panel">
                            <div class="panel-header" style="flex-wrap: wrap; gap: 15px;">
                                <h3>Geli≈ümi≈ü Ders Programƒ± Planlayƒ±cƒ±</h3>
                            </div>
                            <div class="panel-body">
                                <div class="program-ust-kontrol">
                                    <div class="form-group">
                                        <label>G√∂r√ºn√ºm</label>
                                        <div class="view-toggle">
                                            <button id="sinif-gorunum-btn" class="btn active">Sƒ±nƒ±f G√∂r√ºn√ºm√º</button>
                                            <button id="ogretmen-gorunum-btn" class="btn">√ñƒüretmen G√∂r√ºn√ºm√º</button>
                                            <button id="matris-ogretmen-gorunum-btn" class="btn">Matris
                                                (√ñƒüretmen/Sƒ±nƒ±f)</button>
                                            <button id="matris-sinif-gorunum-btn" class="btn">Matris
                                                (Sƒ±nƒ±f/Ders)</button>
                                        </div>
                                    </div>
                                    <div class="form-group" style="flex-grow: 1;">
                                        <label id="grup-gorunum-label">G√∂r√ºnt√ºlenecek Grup (Sƒ±nƒ±f)</label>
                                        <select id="grup-secim-dropdown" class="form-control"
                                            style="padding: 10px; font-size: 15px;"></select>
                                    </div>
                                    <div class="form-group">
                                        <label>Programƒ±n Ge√ßerlilik Ba≈ülangƒ±√ß Tarihi</label>
                                        <input type="date" id="etkinTarihInput">
                                    </div>
                                    <div class="form-group">
                                        <label>ƒ∞≈ülemler</label>
                                        <div class="program-actions">
                                            <button id="programi-kaydet-btn" class="btn"
                                                style="background-color: var(--theme-accent);">Kaydet</button>
                                            <button id="programi-yayinla-btn" class="btn"
                                                style="background-color: var(--success-color);">Yayƒ±nla</button>
                                            <button id="btn-otomatik-doldur" class="btn btn-add">Otomatik
                                                Doldur</button>
                                            <button id="programi-yazdir-btn" class="btn"
                                                style="background-color: var(--info-color);">Yazdƒ±r</button>
                                            <button id="programi-duzenle-btn" class="btn"
                                                style="background-color: var(--info-color);">D√ºzenle</button>
                                            <button id="programi-kopyala-btn" class="btn"
                                                style="background-color: #6c757d;">Kopyala</button>
                                        </div>
                                    </div>
                                </div>
                                <div id="schedule-display-area" style="margin-top: 20px;">
                                    <h2 id="schedule-print-title"></h2>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div id="gorevlendirme" class="module">
                <div class="panel">
                    <div class="panel-header">
                        <h3>Detaylƒ± Ders G√∂revlendirme (Otomatik Atama)</h3>
                    </div>
                    <div class="panel-body">
                        <div class="gorevlendirme-form-area">
                            <div class="gorevlendirme-layout no-print"
                                style="grid-template-columns: 1fr 1.5fr; gap: 30px;">
                                <div class="gorev-panel">
                                    <h4>1. G√∂revlendirme Bilgileri</h4>
                                    <div class="form-group">
                                        <label for="g-tarih">G√∂revlendirme Tarihi</label>
                                        <input type="date" id="g-tarih">
                                    </div>
                                    <div class="form-group">
                                        <label for="g-asil-ogretmen">Asƒ±l √ñƒüretmen (ƒ∞zinli/Raporlu)</label>
                                        <select id="g-asil-ogretmen">
                                            <option value="">√ñƒüretmen Se√ßiniz...</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="g-neden">G√∂revlendirme Nedeni</label>
                                        <select id="g-neden">
                                            <option value="">Neden Se√ßiniz...</option>
                                            <option value="Raporlu">Raporlu</option>
                                            <option value="ƒ∞zinli (√úcretli)">ƒ∞zinli (√úcretli)</option>
                                            <option value="ƒ∞zinli (√úcretsiz)">ƒ∞zinli (√úcretsiz)</option>
                                            <option value="Seminer/Kurs">Seminer/Kurs</option>
                                            <option value="G√∂revli ƒ∞zinli">G√∂revli ƒ∞zinli</option>
                                            <option value="Diƒüer">Diƒüer</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="g-aciklama">Genel A√ßƒ±klama (Opsiyonel)</label>
                                        <input type="text" id="g-aciklama" placeholder="Gerekliyse ek bilgi...">
                                    </div>
                                </div>

                                <div class="gorev-panel">
                                    <h4>2. G√∂revlendirme Yapƒ±lacak Dersleri Se√ßin</h4>
                                    <div id="asil-ogretmen-dersleri-container"
                                        style="border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; background: #f8f9fa; min-height: 250px;">
                                        <p style="color: #666; text-align: center; margin-top: 50px;">
                                            L√ºtfen tarih ve asƒ±l √∂ƒüretmen se√ßimi yapƒ±n.
                                            <br>√ñƒüretmenin o g√ºne ait ders programƒ± burada listelenecektir.
                                        </p>
                                    </div>
                                    <div class="button-group"
                                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;">

                                        <button id="g-manuel-ata-btn" class="btn"
                                            style="background-color: var(--info-color); padding: 12px;">
                                            1. Manuel Se√ßim Modunu A√ß
                                        </button>

                                        <button id="g-kaydet-btn" class="btn btn-save"
                                            style="width: 100%; padding: 12px;">
                                            2. En Uygunu Otomatik Ata
                                        </button>

                                        <button id="g-manuel-kaydet-btn" class="btn btn-add"
                                            style="width: 100%; padding: 12px; grid-column: 1 / -1; display: none;">
                                            Se√ßilenleri Manuel Kaydet
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="filter-container no-print" id="gorevlendirme-filters"
                                style="margin-top: 30px; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); align-items: flex-end;">
                                <div class="form-group">
                                    <label for="filter-g-baslangic">Ba≈ülangƒ±√ß Tarihi</label>
                                    <input type="date" id="filter-g-baslangic">
                                </div>
                                <div class="form-group">
                                    <label for="filter-g-bitis">Biti≈ü Tarihi</label>
                                    <input type="date" id="filter-g-bitis">
                                </div>
                                <div class="form-group">
                                    <label for="filter-g-asil">Asƒ±l √ñƒüretmen</label>
                                    <select id="filter-g-asil">
                                        <option value="">T√ºm√º</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="filter-g-gorevli">G√∂rev Alan √ñƒüretmen</label>
                                    <select id="filter-g-gorevli">
                                        <option value="">T√ºm√º</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="filter-g-neden">G√∂rev Nedeni</label>
                                    <select id="filter-g-neden">
                                        <option value="">T√ºm√º</option>
                                        <option value="Raporlu">Raporlu</option>
                                        <option value="ƒ∞zinli (√úcretli)">ƒ∞zinli (√úcretli)</option>
                                        <option value="ƒ∞zinli (√úcretsiz)">ƒ∞zinli (√úcretsiz)</option>
                                        <option value="Seminer/Kurs">Seminer/Kurs</option>
                                        <option value="G√∂revli ƒ∞zinli">G√∂revli ƒ∞zinli</option>
                                        <option value="Diƒüer">Diƒüer</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <button id="apply-gorevlendirme-filter-btn" class="btn"
                                        style="background-color:var(--theme-primary); width: 100%;">Filtrele</button>
                                </div>
                                <div class="form-group">
                                    <button id="clear-gorevlendirme-filter-btn" class="btn"
                                        style="background-color:#6c757d; width: 100%;">Temizle</button>
                                </div>
                            </div>

                            <div
                                style="display: flex; justify-content: space-between; align-items: center; margin-top: 20px; margin-bottom: 10px;">
                                <h3 id="gorevlendirme-baslik" style="margin: 0;">G√∂revlendirme Kayƒ±tlarƒ±</h3>
                                <div class="no-print">
                                    <button id="btn-gorev-yazdir" class="btn btn-header-add"
                                        style="background-color: var(--info-color);">Yazdƒ±r</button>
                                </div>
                            </div>
                        </div>
                        <div class="table-container">
                            <table class="gorevlendirme-table">
                                <thead>
                                    <tr>
                                        <th>Tarih</th>
                                        <th>Asƒ±l √ñƒüretmen</th>
                                        <th>Neden</th>
                                        <th>Durum</th>
                                        <th>Toplam Saat</th>
                                        <th>Ders Detaylarƒ± (G√∂revli)</th>
                                        <th>A√ßƒ±klama</th>
                                        <th class="no-print">ƒ∞≈ülemler</th>
                                    </tr>
                                </thead>
                                <tbody id="gorevlendirme-tbody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div id="nobet-takip" class="module">
                <div class="panel">
                    <div class="panel-header">
                        <h3>N√∂bet Takip ve Raporlama</h3>
                    </div>
                    <div class="panel-body">
                        <div class="form-container"
                            style="background-color: #f8f9fa; border: 1px solid #dee2e6; padding: 25px; border-radius: 8px; margin-bottom: 30px;">
                            <h3 style="margin-top:0; border-bottom: 2px solid #e9ecef; padding-bottom: 10px;">Yeni
                                N√∂bet
                                Giri≈üi</h3>
                            <div class="form-grid"
                                style="grid-template-columns: 1fr 2fr 2fr 120px; align-items: flex-end;">
                                <div class="form-group"><label for="nobet-tarih">Tarih</label><input type="date"
                                        id="nobet-tarih"></div>
                                <div class="form-group"><label for="nobet-personel">N√∂bet√ßi Personel</label><select
                                        id="nobet-personel">
                                        <option value="">Personel Se√ßiniz...</option>
                                    </select></div>
                                <div class="form-group"><label for="nobet-yeri">N√∂bet Yeri</label><select
                                        id="nobet-yeri">
                                        <option value="">N√∂bet Yeri Se√ßiniz...</option>
                                    </select></div>
                                <button id="nobet-ekle-btn" class="btn"
                                    style="background-color: #0056b3; height: 46px;">N√∂bet
                                    Ekle</button>
                            </div>
                        </div>

                        <div class="form-container"
                            style="background-color: #eef1f3; border: 1px solid #d8dde2; padding: 25px; border-radius: 8px; margin-bottom: 30px;">
                            <h3 style="margin-top:0; border-bottom: 2px solid #ced4da; padding-bottom: 10px;">Aylƒ±k
                                N√∂bet √áizelgesini Kopyala</h3>
                            <div class="form-grid"
                                style="grid-template-columns: 1fr 1fr 1fr 1fr 150px; align-items: flex-end; gap: 15px;">
                                <div class="form-group">
                                    <label for="copy-source-month">Kaynak Ay</label>
                                    <select id="copy-source-month"></select>
                                </div>
                                <div class="form-group">
                                    <label for="copy-source-year">Kaynak Yƒ±l</label>
                                    <input type="number" id="copy-source-year" min="2020" max="2050"
                                        style="padding: 12px;">
                                </div>
                                <div class="form-group">
                                    <label for="copy-dest-month">Hedef Ay</label>
                                    <select id="copy-dest-month"></select>
                                </div>
                                <div class="form-group">
                                    <label for="copy-dest-year">Hedef Yƒ±l</label>
                                    <input type="number" id="copy-dest-year" min="2020" max="2050"
                                        style="padding: 12px;">
                                </div>
                                <button id="copy-schedule-btn" class="btn"
                                    style="background-color: var(--theme-accent); height: 46px;">√áizelgeyi
                                    Kopyala</button>
                            </div>
                        </div>
                        <div id="nobet-rapor-alani">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
                                <h3 style="margin-top: 40px; margin-bottom: 10px;">Aylƒ±k N√∂bet Raporu</h3>
                                <div class="no-print" style="display: flex; gap: 10px;">
                                    <button id="btn-nobet-toplu-sil" class="btn btn-header-add"
                                        style="background-color: var(--danger-color);">Se√ßilenleri Sil</button>
                                    <button id="btn-nobet-yazdir" class="btn btn-header-add"
                                        style="background-color: var(--info-color);">Yazdƒ±r</button>
                                </div>
                            </div>
                            <div class="controls"
                                style="display: flex; justify-content: space-between; align-items: center; gap: 20px; margin-bottom: 25px; padding: 15px; background-color: #f8f9fa; border-radius: 8px;">
                                <div class="controls-left" style="display: flex; align-items: center; gap: 10px;">
                                    <select id="rapor-ay-sec"></select>
                                    <input type="number" id="rapor-yil-gir" min="2020" max="2050">
                                </div>
                            </div>
                            <div class="table-container">
                                <table class="gorevlendirme-table">
                                    <thead>
                                        <tr>
                                            <th>Tarih</th>
                                            <th>G√ºn</th>
                                            <th>N√∂bet√ßi Personel</th>
                                            <th>N√∂bet Yeri</th>
                                            <th class="no-print">ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="nobet-rapor-tbody"></tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div id="izin-takip" class="module">
                <div class="panel">
                    <div class="panel-header">
                        <h3>ƒ∞zin Takip ve Y√∂netim Mod√ºl√º</h3>
                        <button id="open-toplu-izin-modal-btn" class="btn-header-add"
                            style="background-color: var(--success-color);">Toplu ƒ∞zin Giri≈üi</button>
                    </div>

                    <div class="panel-body">
                        <div class="form-container"
                            style="background-color: #f8f9fa; border: 1px solid #dee2e6; padding: 25px; border-radius: 8px; margin-bottom: 40px;">
                            <h3 style="margin-top:0; border-bottom: 2px solid #e9ecef; padding-bottom: 10px;">Yeni
                                ƒ∞zin
                                Giri≈üi</h3>
                            <div class="form-grid"
                                style="grid-template-columns: 2fr 1.5fr 1fr 1fr; align-items: flex-end;">
                                <div class="form-group">
                                    <label for="izin-personel">Personel</label>
                                    <select id="izin-personel">
                                        <option value="">Personel Se√ßiniz...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="izin-tipi">ƒ∞zin Tipi</label>
                                    <select id="izin-tipi">
                                        <option value="">ƒ∞zin Tipi Se√ßiniz...</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="izin-baslangic">Ba≈ülangƒ±√ß Tarihi</label>
                                    <input type="date" id="izin-baslangic">
                                </div>
                                <div class="form-group">
                                    <label for="izin-bitis">Biti≈ü Tarihi</label>
                                    <input type="date" id="izin-bitis">
                                </div>
                                <div class="form-group" style="grid-column: 1 / -1;">
                                    <label for="izin-aciklama">A√ßƒ±klama / Not</label>
                                    <input type="text" id="izin-aciklama" placeholder="ƒ∞zinle ilgili kƒ±sa bir not...">
                                </div>
                            </div>
                            <div class="izin-hesaplama-alani">
                                <div id="personel-izin-hakki">
                                </div>
                                <div id="izin-hesaplama-sonucu">
                                </div>
                            </div>

                            <div class="button-group">
                                <button id="izin-kaydet-btn" class="btn btn-save">ƒ∞zin Kaydƒ±nƒ± Olu≈ütur</button>
                            </div>
                        </div>
                        <h3>Kayƒ±tlƒ± ƒ∞zinler</h3>
                        <div class="table-container">
                            <table class="gorevlendirme-table">
                                <thead>
                                    <tr>
                                        <th>Personel Adƒ±</th>
                                        <th>ƒ∞zin Tipi</th>
                                        <th>Ba≈ülangƒ±√ß</th>
                                        <th>Biti≈ü</th>
                                        <th>S√ºre (G√ºn)</th>
                                        <th>A√ßƒ±klama</th>
                                        <th style="width: 200px;">ƒ∞≈ülemler</th>
                                    </tr>
                                </thead>
                                <tbody id="izin-kayitlari-tbody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="puantaj" class="module">
                <div class="panel">
                    <div class="panel-header">
                        <h3>Puantaj Cetveli</h3>
                    </div>
                    <div class="panel-body">
                        <div class="controls puantaj">

                            <div class="controls-left">
                                <select id="select-month"></select>
                                <input type="number" id="input-year" min="2020" max="2050">

                                <button id="btn-show-puantaj"
                                    style="background-color: #0d6efd; color: white; padding: 10px 15px; font-size: 14px; font-weight: 500; border-radius: 6px; border: 1px solid transparent; cursor: pointer;">
                                    Puantajƒ± G√∂ster
                                </button>

                                <button id="btn-generate"
                                    style="background-color: #ffc107; color: #000; padding: 10px 15px; font-size: 14px; font-weight: 500; border-radius: 6px; border: 1px solid transparent; cursor: pointer;">
                                    Yeni Puantaj Olu≈ütur
                                </button>
                                <button id="btn-generate-individual"
                                    style="background-color: #17a2b8; color: white; padding: 10px 15px; font-size: 14px; font-weight: 500; border-radius: 6px; border: 1px solid transparent; cursor: pointer;">
                                    Se√ßili Personeli Hesapla
                                </button>
                            </div>

                            <div class="personel-filter-container"
                                style="display: flex; align-items: center; gap: 10px; border-left: 2px solid #ced4da; padding-left: 15px; margin-left: 5px; margin-top: 20px;">
                                <select id="personel-filter-select"
                                    style="padding: 9px; border-radius: 6px; border: 1px solid #ced4da; min-width: 200px;"></select>
                                <button id="btn-filter-personel" class="btn"
                                    style="background-color: #17a2b8;">Filtrele</button>
                                <button id="btn-clear-filter" class="btn"
                                    style="background-color: #6c757d;">Temizle</button>
                            </div>

                            <div style="grid-column: 1 / -1; margin-top: 15px;">
                                <button id="toggle-bulk-update-btn" class="btn"
                                    style="background-color: #6c757d; width: 100%;">Geli≈ümi≈ü Toplu G√ºncelleme
                                    Panelini
                                    G√∂ster/Gizle</button>
                            </div>

                            <div id="advanced-bulk-update-container" class="bulk-update-container"
                                style="display: none; grid-template-columns: 1fr; gap: 20px;">
                                <h4 style="margin: 0 0 5px 0; color: var(--theme-primary);">Geli≈ümi≈ü Toplu
                                    G√ºncelleme
                                </h4>

                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                                    <div class="form-group">
                                        <label for="bulk-update-days-multi"
                                            style="font-size: 13px; font-weight: 500;">Uygulanacak G√ºnler (√áoklu
                                            Se√ßim)</label>
                                        <select id="bulk-update-days-multi" multiple></select>
                                    </div>

                                    <div class="form-group">
                                        <label for="bulk-update-personnel-multi"
                                            style="font-size: 13px; font-weight: 500;">Uygulanacak Personeller
                                            (√áoklu
                                            Se√ßim)</label>
                                        <select id="bulk-update-personnel-multi" multiple></select>
                                    </div>
                                </div>

                                <div
                                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; align-items: flex-end;">
                                    <div class="form-group">
                                        <label for="bulk-update-status-new"
                                            style="font-size: 13px; font-weight: 500;">Yeni
                                            Durum Kodu</label>
                                        <select id="bulk-update-status-new" class="form-control"
                                            style="padding: 8px;"></select>
                                    </div>

                                    <div class="form-group">
                                        <label for="bulk-update-hours-new"
                                            style="font-size: 13px; font-weight: 500;">Yeni Ders
                                            Saati</label>
                                        <input type="number" id="bulk-update-hours-new" min="0" max="12"
                                            class="form-control" placeholder="√ñrn: 7.5" style="padding: 8px;">
                                    </div>

                                    <button id="btn-advanced-bulk-update" class="btn"
                                        style="background-color: #6f42c1; color: white; height: 42px;">Deƒüi≈üiklikleri
                                        Uygula</button>
                                </div>
                            </div>


                            <div class="controls-right export-buttons">
                                <button id="btn-save-puantaj" style="background-color: #28a745;">Kaydet</button>
                                <button id="btn-lock-puantaj" style="background-color: #fd7e14;">Puantajƒ±
                                    Kilitle</button>
                                <button id="btn-print">Yazdƒ±r</button>
                                <button id="btn-pdf">PDF ƒ∞ndir</button>
                                <button id="btn-excel">Excel ƒ∞ndir</button>
                                <button id="btn-delete-puantaj" style="background-color: var(--danger-color);">Puantajƒ±
                                    Sil</button>
                            </div>
                        </div>
                        <div id="puantaj-table-container" class="table-container"></div>
                        <div id="puantaj-legend" class="puantaj-legend"></div>
                        <div id="bottom-section" class="bottom-section">
                            <div class="summary-totals">
                                <h3>Aylƒ±k Genel Toplamlar</h3>
                                <div class="total-line"><span class="label">Ek Ders Saati Toplamƒ±:</span><span
                                        id="total-ekders" class="value">0</span></div>
                                <div class="total-line"><span class="label">N√∂bet Toplamƒ±:</span><span id="total-nobet"
                                        class="value">0</span></div>
                                <div class="total-line"><span class="label">Rehberlik Toplamƒ±:</span><span
                                        id="total-rehberlik" class="value">0</span></div>
                            </div>
                            <div class="approval-section">
                                <h3>Onay</h3>
                                <div class="name">Adƒ± Soyadƒ±</div>
                                <div>Okul M√ºd√ºr√º</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div id="super-admin-panel" class="module">
                <div class="panel" style="margin-bottom: 25px;">
                    <div class="panel-header">
                        <h3>Yeni Okul Ekle</h3>
                    </div>
                    <div class="panel-body">
                        <form id="newSchoolForm">
                            <div class="form-group">
                                <label for="newSchoolName">Yeni Okulun Adƒ±</label>
                                <input type="text" id="newSchoolName" placeholder="√ñrn: √ñzel ƒ∞sabet ƒ∞lkokulu" required>
                            </div>
                            <div class="button-group" style="margin-top: 25px;">
                                <button type="submit" class="btn btn-save">Yeni Okulu Kaydet</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-header">
                        <h3>S√ºper Admin Paneli - Yeni Okul Y√∂neticisi Ekle</h3>
                    </div>
                    <div class="panel-body">
                        <form id="newUserForm">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="newUserEmail">Y√∂netici E-posta Adresi</label>
                                    <input type="email" id="newUserEmail" required>
                                </div>
                                <div class="form-group">
                                    <label for="newUserPassword">Ge√ßici ≈ûifre</label>
                                    <input type="password" id="newUserPassword" required>
                                </div>
                                <div class="form-group">
                                    <label for="schoolSelect">Kullanƒ±cƒ±nƒ±n Atanacaƒüƒ± Okul</label>
                                    <select id="schoolSelect" required>
                                        <option value="">Okullar y√ºkleniyor...</option>
                                    </select>
                                </div>
                            </div>
                            <div class="button-group" style="margin-top: 25px;">
                                <button type="submit" class="btn btn-save">Yeni Y√∂netici Olu≈ütur</button>
                            </div>
                        </form>
                        <div id="newUserStatus" style="margin-top: 20px; font-weight: bold;"></div>
                    </div>
                </div>

                <div class="panel" style="margin-top: 25px;">
                    <div class="panel-header">
                        <h3>T√ºm Okullar ve Y√∂neticileri</h3>
                    </div>
                    <div class="panel-body" id="all-admins-list-container">
                    </div>
                </div>
            </div>
            <div id="settings" class="module">

                <div class="panel">
                    <div class="panel-header">
                        <button id="settings-back-btn" class="btn header-back-btn hidden">‚¨ÖÔ∏è Geri</button>

                        <h3 id="settings-panel-title">Uygulama Ayarlarƒ±</h3>
                    </div>
                    <div class="panel-body">

                        <div id="settings-grid">
                            <div class="settings-card" data-tab="nevi">
                                <span class="icon"><i class="bi bi-people-fill"></i></span>
                                <span class="title">Personel Nevileri</span>
                            </div>
                            <div class="settings-card" data-tab="gorev">
                                <span class="icon"><i class="bi bi-tag-fill"></i></span>
                                <span class="title">G√∂revler/Bran≈ülar</span>
                            </div>
                            <div class="settings-card" data-tab="izin-tipi">
                                <span class="icon"><i class="bi bi-airplane-fill"></i></span>
                                <span class="title">ƒ∞zin Tipleri</span>
                            </div>
                            <div class="settings-card" data-tab="nobet-yeri">
                                <span class="icon"><i class="bi bi-shield-fill-check"></i></span>
                                <span class="title">N√∂bet Yerleri</span>
                            </div>
                            <div class="settings-card" data-tab="ders">
                                <span class="icon"><i class="bi bi-book-half"></i></span>
                                <span class="title">Dersler</span>
                            </div>
                            <div class="settings-card" data-tab="sinif">
                                <span class="icon"><i class="bi bi-building-fill"></i></span>
                                <span class="title">Sƒ±nƒ±flar</span>
                            </div>
                            <div class="settings-card" data-tab="zaman-cizelgesi">
                                <span class="icon"><i class="bi bi-alarm-fill"></i></span>
                                <span class="title">Zaman √áizelgesi</span>
                            </div>
                            <div class="settings-card" data-tab="ogretmen-kural">
                                <span class="icon"><i class="bi bi-person-video3"></i></span>
                                <span class="title">√ñƒüretmen Kurallarƒ±</span>
                            </div>
                            <div class="settings-card" data-tab="programlama-kurallari">
                                <span class="icon"><i class="bi bi-sliders" style="color: #6c757d;"></i></span>
                                <span class="title">Programlama Kurallarƒ±</span>
                            </div>
                            <div class="settings-card" data-tab="ders-brans-kurallari">
                                <span class="icon"><i class="bi bi-puzzle-fill"></i></span>
                                <span class="title">Ders (Bran≈ü) Kurallarƒ±</span>
                            </div>
                            <div class="settings-card" data-tab="ogrenci-kurallari">
                                <span class="icon"><i class="bi bi-mortarboard-fill"></i></span>
                                <span class="title">√ñƒürenci Odaklƒ± Kurallar</span>
                            </div>
                            <div class="settings-card" data-tab="derslik-yonetimi">
                                <span class="icon"><i class="bi bi-bank"></i></span>
                                <span class="title">Derslik Y√∂netimi</span>
                            </div>
                            <div class="settings-card" data-tab="genel-kurallar">
                                <span class="icon"><i class="bi bi-globe"></i></span>
                                <span class="title">Genel Kurallar</span>
                            </div>
                            <div class="settings-card" data-tab="egitim-donemi">
                                <span class="icon"><i class="bi bi-calendar-range-fill"
                                        style="color: #20c997;"></i></span>
                                <span class="title">Eƒüitim-√ñƒüretim D√∂nemleri</span>
                            </div>
                            <div class="settings-card" data-tab="seminer-donemi">
                                <span class="icon"><i class="bi bi-calendar-week-fill"></i></span>
                                <span class="title">Seminer D√∂nemleri</span>
                            </div>
                        </div>

                        <div id="programlama-kurallari-tab" class="settings-tab-content">
                            <h3 style="margin-top: 15px;">Genel Programlama Kurallarƒ±</h3>
                            <p>Burada se√ßilen kurallar, "Otomatik Doldur" √∂zelliƒüi kullanƒ±ldƒ±ƒüƒ±nda t√ºm program i√ßin
                                ge√ßerli olacaktƒ±r.</p>

                            <div class="kural-listesi"
                                style="display: flex; flex-direction: column; gap: 20px; margin-top: 25px;">

                                <div class="kural-item"
                                    style="display: flex; align-items: center; gap: 15px; background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <input type="checkbox" id="kural-aktif-max-gunluk-ders" style="width: auto;">
                                    <label for="kural-aktif-max-gunluk-ders" style="margin: 0; flex-grow: 1;">Bir
                                        ders,
                                        bir g√ºnde en fazla</label>
                                    <input type="number" id="kural-deger-max-gunluk-ders" min="1" max="8" value="2"
                                        style="width: 70px;">
                                    <label for="kural-deger-max-gunluk-ders" style="margin: 0;">saat
                                        olabilir.</label>
                                </div>

                                <div class="kural-item"
                                    style="display: flex; align-items: center; gap: 15px; background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <input type="checkbox" id="kural-aktif-max-blok-ders" style="width: auto;">
                                    <label for="kural-aktif-max-blok-ders" style="margin: 0; flex-grow: 1;">Bir
                                        ders,
                                        arka arkaya en fazla</label>
                                    <input type="number" id="kural-deger-max-blok-ders" min="1" max="4" value="2"
                                        style="width: 70px;">
                                    <label for="kural-deger-max-blok-ders" style="margin: 0;">saat (blok)
                                        olabilir.</label>
                                </div>

                                <div class="kural-item"
                                    style="display: flex; align-items: center; gap: 15px; background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                    <input type="checkbox" id="kural-aktif-bosluk-birakma" style="width: auto;">
                                    <label for="kural-aktif-bosluk-birakma" style="margin: 0;">√ñƒüretmenlerin
                                        programƒ±nda
                                        g√ºn√ºn ba≈üƒ±nda veya sonunda bo≈üluk bƒ±rakƒ±lmasƒ±n (dersler biti≈üik
                                        olsun).</label>
                                </div>

                            </div>

                            <div class="button-group" style="margin-top: 30px;">
                                <button id="programlama-kurallari-kaydet-btn" class="btn btn-save">T√ºm Kurallarƒ±
                                    Kaydet</button>
                            </div>
                        </div>

                        <div id="nevi-tab" class="settings-tab-content">
                            <div class="add-setting-form">
                                <input type="text" id="add-nevi-input" placeholder="Yeni personel nevi adƒ±...">
                                <button id="add-nevi-btn" class="btn">Ekle</button>
                            </div>
                            <ul id="nevi-list" class="settings-list"></ul>
                        </div>

                        <div id="gorev-tab" class="settings-tab-content">
                            <div class="add-setting-form">
                                <select id="gorev-nevi-select">
                                    <option value="">√ñnce Personel Nevi Se√ßin</option>
                                </select>
                                <input type="text" id="add-gorev-input" placeholder="Yeni g√∂rev/bran≈ü adƒ±...">
                                <button id="add-gorev-btn" class="btn">Ekle</button>
                            </div>
                            <ul id="gorev-list" class="settings-list"></ul>
                        </div>

                        <div id="ders-tab" class="settings-tab-content">
                            <div class="add-setting-form"
                                style="display: grid; grid-template-columns: 2fr 1fr auto; gap: 10px;">
                                <input type="text" id="add-ders-input"
                                    placeholder="Yeni dersin tam adƒ± (√ñrn: Matematik)">
                                <input type="text" id="add-ders-kisaltma-input" placeholder="Kƒ±saltma (√ñrn: MTM)"
                                    maxlength="3" style="text-transform: uppercase;">
                                <button id="add-ders-btn" class="btn">Ekle</button>
                            </div>
                            <ul id="ders-list" class="settings-list"></ul>
                        </div>

                        <div id="sinif-tab" class="settings-tab-content">
                            <div class="add-setting-form">
                                <input type="text" id="add-sinif-input" placeholder="Yeni sƒ±nƒ±f adƒ±...">
                                <button id="add-sinif-btn" class="btn">Ekle</button>
                            </div>
                            <ul id="sinif-list" class="settings-list"></ul>
                        </div>



                        <div id="nobet-yeri-tab" class="settings-tab-content">
                            <div class="add-setting-form">
                                <input type="text" id="add-nobet-yeri-input" placeholder="Yeni n√∂bet yeri adƒ±...">
                                <button id="add-nobet-yeri-btn" class="btn">Ekle</button>
                            </div>
                            <ul id="nobet-yeri-list" class="settings-list"></ul>
                        </div>

                        <div id="izin-tipi-tab" class="settings-tab-content">
                            <div class="add-setting-form" style="grid-template-columns: 2fr 1fr auto; display: grid;">
                                <input type="text" id="add-izin-tipi-ad-input"
                                    placeholder="Yeni izin tipi adƒ± (√ñrn: Yƒ±llƒ±k ƒ∞zin)">
                                <input type="text" id="add-izin-tipi-kod-input" placeholder="Puantaj Kodu (√ñrn: I)">
                                <button id="add-izin-tipi-btn" class="btn">Ekle</button>
                            </div>
                            <ul id="izin-tipi-list" class="settings-list"></ul>
                        </div>
                        <div id="zaman-cizelgesi-tab" class="settings-tab-content">
                            <p>Ders programƒ± mod√ºl√º, buradaki ayarlara g√∂re otomatik olarak ≈üekillenecektir.</p>
                            <div class="form-grid">
                                <div class="form-group"><label for="setting-dersBaslangic">Ders Ba≈ülama
                                        Saati</label><input type="time" id="setting-dersBaslangic"></div>
                                <div class="form-group"><label for="setting-toplamDers">G√ºnl√ºk Toplam Ders
                                        Sayƒ±sƒ±</label><input type="number" id="setting-toplamDers" min="1"></div>
                                <div class="form-group"><label for="setting-dersSuresi">Ders S√ºresi
                                        (Dakika)</label><input type="number" id="setting-dersSuresi" min="1"></div>
                                <div class="form-group"><label for="setting-teneffusSuresi">Teneff√ºs S√ºresi
                                        (Dakika)</label><input type="number" id="setting-teneffusSuresi" min="0">
                                </div>
                                <div class="form-group"><label for="setting-ogleArasiDersNo">√ñƒüle Arasƒ± Ka√ßƒ±ncƒ±
                                        Dersten
                                        Sonra?</label><input type="number" id="setting-ogleArasiDersNo" min="0">
                                </div>
                                <div class="form-group"><label for="setting-ogleArasiSuresi">√ñƒüle Arasƒ± S√ºresi
                                        (Dakika)</label><input type="number" id="setting-ogleArasiSuresi" min="0">
                                </div>
                            </div>
                            <div class="button-group">
                                <button id="zaman-cizelgesi-kaydet-btn" class="btn btn-save">√áizelge Ayarlarƒ±nƒ±
                                    Kaydet</button>
                            </div>
                            <div style="margin-top: 30px; border-top: 1px solid #dee2e6; padding-top: 20px;">
                                <h4>√ñzel Teneff√ºs Ayarlarƒ±</h4>
                                <p>Standart teneff√ºs s√ºresi dƒ±≈üƒ±nda, belirli derslerden sonra farklƒ± s√ºrede
                                    teneff√ºsler
                                    tanƒ±mlayabilirsiniz. (√ñrn: 6. dersten sonra 15 dakika ikindi arasƒ±)</p>
                                <div class="add-setting-form" style="align-items: flex-end;">
                                    <div class="form-group" style="flex: 2;">
                                        <label for="ozel-teneffus-ders-no">Ka√ßƒ±ncƒ± Dersten Sonra?</label>
                                        <input type="number" id="ozel-teneffus-ders-no" min="1" placeholder="√ñrn: 6">
                                    </div>
                                    <div class="form-group" style="flex: 2;">
                                        <label for="ozel-teneffus-suresi">Teneff√ºs S√ºresi (Dakika)</label>
                                        <input type="number" id="ozel-teneffus-suresi" min="0" placeholder="√ñrn: 15">
                                    </div>
                                    <button id="add-ozel-teneffus-btn" class="btn" style="flex: 1;">√ñzel Teneff√ºs
                                        Ekle</button>
                                </div>
                                <ul id="ozel-teneffus-listesi" class="settings-list" style="margin-top: 15px;">
                                </ul>
                            </div>
                            <div id="zaman-cizelgesi-goruntule"
                                style="margin-top: 30px; border-top: 1px solid #dee2e6; padding-top: 20px;">
                            </div>
                            <div id="zaman-cizelgesi-goruntule"
                                style="margin-top: 30px; border-top: 1px solid #dee2e6; padding-top: 20px;">
                            </div>
                        </div>
                    </div>
                    <div id="ders-brans-kurallari-tab" class="settings-tab-content">
                        <h3 style="margin-top: 15px;">Ders (Bran≈ü) Kurallarƒ±</h3>
                        <p>Derslerin haftalƒ±k saatlerini, yerle≈üim tercihlerini ve diƒüer derslerle ili≈ükilerini
                            buradan
                            y√∂netin.</p>
                        <div class="form-grid"
                            style="grid-template-columns: 1fr; border-bottom: 1px solid var(--border-color); padding-bottom: 20px; margin-bottom: 20px;">
                            <div class="form-group">
                                <label>L√ºtfen Kural Eklenecek Dersi Se√ßerek Ba≈ülayƒ±n</label>
                                <select id="kural-ders-sec"></select>
                            </div>
                        </div>
                        <div id="ders-kurali-detaylari">
                            <form>
                                <div class="form-grid"
                                    style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); align-items: flex-start;">
                                    <input type="hidden" id="editing-ders-kurali-id" value="">
                                    <div class="form-group">
                                        <label>Sƒ±nƒ±f Seviyesi</label>
                                        <select id="kural-seviye-sec" multiple style="min-height: 105px;"></select>
                                    </div>
                                    <div class="form-group">
                                        <label>Atanacak √ñƒüretmen (ƒ∞steƒüe Baƒülƒ±)</label>
                                        <select id="kural-ogretmen-ata-sec"></select>
                                    </div>
                                    <div class="form-group">
                                        <label>Haftalƒ±k Ders Saati</label>
                                        <input type="number" id="kural-haftalik-saat" placeholder="√ñrn: 6">
                                    </div>
                                    <div class="form-group">
                                        <label>G√ºnl√ºk Max Saat</label>
                                        <input type="number" id="kural-gunluk-max-saat" placeholder="√ñrn: 2">
                                    </div>
                                </div>
                                <a href="#" id="toggle-detayli-kurallar"
                                    style="display: block; margin: 10px 0; color: var(--theme-primary); text-decoration: none; font-weight: 600;">‚ñ∂
                                    Detaylƒ± Kurallarƒ± G√∂ster/Gizle</a>
                                <div id="detayli-kurallar-container"
                                    style="display: none; background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 10px;">
                                    <div class="form-grid"
                                        style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
                                        <div class="form-group">
                                            <label>Blok Ders</label>
                                            <select id="kural-blok-ders">
                                                <option value="hayir">Hayƒ±r</option>
                                                <option value="evet">Evet</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label>Gereken Derslik Tipi</label>
                                            <select id="kural-derslik-tipi"></select>
                                        </div>
                                        <div class="form-group">
                                            <label>Yerle≈üim Tercihi</label>
                                            <select id="kural-yerlesim-tercihi">
                                                <option value="farketmez">Fark Etmez</option>
                                                <option value="sabah">Sadece Sabah</option>
                                                <option value="ogle">Sadece √ñƒüleden Sonra</option>
                                                <option value="ilk_ders_olmasin">ƒ∞lk Ders Olmasƒ±n</option>
                                                <option value="son_ders_olmasin">Son Ders Olmasin</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group" style="margin-top: 15px;">
                                        <label>Birlikte Gitmemesi Gereken Dersler (Art arda gelmesin)</label>
                                        <select id="kural-yasakli-dersler-sec" multiple
                                            style="min-height: 100px;"></select>
                                    </div>
                                </div>
                            </form>
                            <div class="form-group" style="margin-top: 25px;">
                                <button id="ders-kural-ekle-btn" class="btn btn-add"
                                    style="width:100%; padding: 12px;">Kural
                                    Ekle/G√ºncelle</button>
                            </div>
                        </div>
                        <div id="ders-kural-table-container" style="margin-top: 25px;">
                            <div id="ders-kural-filters" class="filter-container"
                                style="grid-template-columns: repeat(3, 1fr); margin-bottom: 15px; display: none;">
                                <div class="form-group">
                                    <label>Derse G√∂re Filtrele</label>
                                    <select id="kural-filter-ders-select">
                                        <option value="">T√ºm Dersler</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Sƒ±nƒ±fa G√∂re Filtrele</label>
                                    <select id="kural-table-filter-sinif-select">
                                        <option value="">T√ºm Sƒ±nƒ±flar</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>√ñƒüretmene G√∂re Filtrele</label>
                                    <select id="kural-filter-ogretmen-select">
                                        <option value="">T√ºm √ñƒüretmenler</option>
                                    </select>
                                </div>
                            </div>
                            <div class="table-container">
                                <table class="staff-table" style="font-size: 0.9em;">
                                    <thead>
                                        <tr>
                                            <th>Ders (Bran≈ü)</th>
                                            <th>Sƒ±nƒ±f</th>
                                            <th>Atanan √ñƒüretmen</th>
                                            <th style="width: 120px;">Haftalƒ±k Saat</th>
                                            <th style="width: 120px;">G√ºnl√ºk Max Saat</th>
                                            <th style="width: 180px;">ƒ∞≈ülemler</th>
                                        </tr>
                                    </thead>
                                    <tbody id="ders-kural-tbody">
                                    </tbody>
                                    <tfoot id="ders-kural-tfoot" style="font-weight: bold; background-color: #f8f9fa;">
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="ogrenci-kurallari-tab" class="settings-tab-content">
                    <h3 style="margin-top: 15px;">√ñƒürenci ve Sƒ±nƒ±f Odaklƒ± Kurallar</h3>
                    <div id="zor-ders-form-container">
                        <label>Zorlayƒ±cƒ± Derslerin Daƒüƒ±lƒ±mƒ±</label>
                        <p style="font-size: 0.9em; margin-top: 0;">√ñƒürencilerin bir g√ºnde g√∂receƒüi zor ders
                            sayƒ±sƒ±nƒ± sƒ±nƒ±rlayƒ±n.</p>
                        <div class="add-setting-form" style="align-items: flex-end;">
                            <select id="kural-zor-dersler-sec" multiple="" style="min-height: 100px; flex:3;"></select>
                            <input type="number" id="kural-gunluk-max-zor-ders" placeholder="Max Sayƒ±" style="flex:1;">
                            <button id="zor-ders-kural-kaydet-btn" class="btn btn-save" style="flex:1;">Kaydet</button>
                        </div>
                    </div>
                    <div id="zor-ders-kural-gosterge"
                        style="display: none; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 8px; padding: 20px; justify-content: space-between; align-items: center;">
                        <div>
                            <label
                                style="font-weight: bold; color: var(--theme-primary); display: block; margin-bottom: 10px;">Tanƒ±mlanmƒ±≈ü
                                Kural</label>
                            <div style="display: flex; align-items: baseline; gap: 25px;">
                                <div>
                                    <p style="margin:0 0 5px 0;"><strong>Zorlayƒ±cƒ± olarak se√ßilen
                                            dersler:</strong></p>
                                    <ul id="zor-dersler-gosterge-listesi"
                                        style="margin: 0; padding-left: 20px; list-style-type: square;"></ul>
                                </div>
                                <p><strong>Bir g√ºnde en fazla <span id="max-zor-ders-gosterge"
                                            style="font-weight: bold; font-size: 1.2em;"></span> zor ders
                                        olabilir.</strong></p>
                            </div>
                        </div>
                        <div class="button-group" style="text-align: right; flex-shrink: 0; padding-left: 20px;">
                            <button id="zor-kural-duzenle-btn" class="btn btn-edit">Kuralƒ± D√ºzenle</button>
                            <button id="zor-kural-sil-btn" class="btn btn-delete">Kuralƒ± Sil</button>
                        </div>
                    </div>
                </div>
                <div id="derslik-yonetimi-tab" class="settings-tab-content">
                    <h3 style="margin-top: 15px;">Derslik Y√∂netimi (Fiziksel Kƒ±sƒ±tlar)</h3>
                    <p>Fen Lab, Spor Salonu gibi √∂zel ve tek olan derslikleri tanƒ±mlayarak √ßakƒ±≈ümalarƒ± √∂nleyin.
                    </p>
                    <div class="add-setting-form" style="align-items: flex-end;">
                        <input type="text" id="derslik-adi-input" placeholder="√ñrn: Fen Laboratuvarƒ±" style="flex:2;">
                        <select id="derslik-tipi-select" style="flex:1;">
                            <option value="Standart">Standart</option>
                            <option value="Laboratuvar">Laboratuvar</option>
                            <option value="Spor Salonu">Spor Salonu</option>
                            <option value="At√∂lye">At√∂lye</option>
                        </select>
                        <button id="derslik-ekle-btn" class="btn btn-add" style="flex:1;">Yeni Derslik
                            Ekle</button>
                    </div>
                    <ul id="derslik-listesi" class="settings-list"></ul>
                </div>
                <div id="genel-kurallar-tab" class="settings-tab-content">
                    <h3 style="margin-top: 15px;">Genel Kurallar (T√ºm Okul ƒ∞√ßin Ge√ßerli)</h3>
                    <div class="form-group">
                        <label>Genel Bloke Zamanlar (T√∂ren, Etkinlik vb.)</label>
                        <p style="font-size: 0.9em; margin-top: 0;">Burada se√ßilen zaman dilimlerine hi√ßbir
                            sƒ±nƒ±fa ders atanmaz.</p>
                        <div class="add-setting-form">
                            <select id="genel-bloke-gun" style="flex:2;">
                                <option>Pazartesi</option>
                                <option>Salƒ±</option>
                                <option>√áar≈üamba</option>
                                <option>Per≈üembe</option>
                                <option>Cuma</option>
                            </select>
                            <select id="genel-bloke-saat" style="flex:1;"></select>
                            <button id="genel-bloke-ekle-btn" class="btn btn-add" style="flex:1;">Bloke
                                Et</button>
                        </div>
                        <ul id="genel-bloke-listesi" class="settings-list" style="max-height: 100px;"></ul>
                    </div>
                </div>
                <div id="seminer-donemi-tab" class="settings-tab-content">
                    <p>Belirli s√ºreli personelin ek derslerinin farklƒ± hesaplanacaƒüƒ± seminer, hizmet i√ßi eƒüitim
                        gibi √∂zel d√∂nemleri buradan y√∂netebilirsiniz.</p>
                    <div class="add-setting-form" style="grid-template-columns: 2fr 1fr 1fr auto; display: grid;">
                        <input type="text" id="add-seminer-donemi-ad-input"
                            placeholder="D√∂nem Adƒ± (√ñrn: Eyl√ºl Semineri)">
                        <input type="date" id="add-seminer-donemi-baslangic-input">
                        <input type="date" id="add-seminer-donemi-bitis-input">
                        <button id="add-seminer-donemi-btn" class="btn">Ekle</button>
                    </div>
                    <ul id="seminer-donemi-list" class="settings-list"></ul>
                </div>
                <div id="egitim-donemi-tab" class="settings-tab-content">
                    <p>Rehberlik ek dersi gibi hesaplamalarƒ±n sadece okulun a√ßƒ±k olduƒüu haftalarda yapƒ±lmasƒ± i√ßin
                        eƒüitim-√∂ƒüretim d√∂nemlerini (√∂rneƒüin G√ºz D√∂nemi, Bahar D√∂nemi) buradan y√∂netebilirsiniz.</p>
                    <div class="add-setting-form" style="grid-template-columns: 2fr 1fr 1fr auto; display: grid;">
                        <input type="text" id="add-egitim-donemi-ad-input"
                            placeholder="D√∂nem Adƒ± (√ñrn: 2025-2026 Eƒüitim Yƒ±lƒ±)">
                        <input type="date" id="add-egitim-donemi-baslangic-input">
                        <input type="date" id="add-egitim-donemi-bitis-input">
                        <button id="add-egitim-donemi-btn" class="btn">Ekle</button>
                    </div>
                    <ul id="egitim-donemi-list" class="settings-list"></ul>
                </div>
                <div id="ogretmen-kural-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>√ñƒüretmen Kurallarƒ±nƒ± D√ºzenle</h3>
                            <button class="close-modal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="kural-ogretmen-sec">Ayarlarƒ± D√ºzenlenecek √ñƒüretmen</label>
                                <select id="kural-ogretmen-sec"></select>
                            </div>
                            <div id="ogretmen-kural-bilgi"
                                style="background-color:#f8f9fa; border:1px solid #dee2e6; padding:15px 20px; border-radius:8px; margin-top: 20px; text-align: center;">
                                <p style="margin:0; font-size:1em; color:var(--dark-text-color);">Kurallarƒ±nƒ±
                                    g√∂r√ºnt√ºlemek ve d√ºzenlemek i√ßin l√ºtfen yukarƒ±daki listeden bir √∂ƒüretmen
                                    se√ßin.</p>
                            </div>
                            <div id="ogretmen-kural-formu"
                                style="border-top: 1px solid var(--border-color); padding-top: 20px; display:none;">

                                <div
                                    style="background-color:#f8f9fa; border:1px solid #dee2e6; padding:15px 20px; border-radius:8px; margin-bottom: 25px; font-size: 0.9em; line-height: 1.6;">
                                    <h4 style="margin-top:0; color:var(--dark-text-color);">Ki≈üisel Zaman
                                        Planlamasƒ±
                                        (Bloke ve Tercih Edilmeyen G√ºnler)</h4>
                                    <p style="margin-bottom:0;">H√ºcrelere tƒ±klayarak algoritmanƒ±n ders atama
                                        davranƒ±≈üƒ±nƒ±
                                        ki≈üisel programƒ±nƒ±za g√∂re ≈üekillendirebilirsiniz.
                                    </p>
                                </div>
                                <div class="table-container" style="margin-bottom: 25px;">
                                    <table id="ogretmen-kural-tablosu" class="schedule-table"></table>
                                </div>

                                <div class="form-grid">
                                    <div class="form-group"><label for="ogretmen-max-gunluk-ders">Maksimum
                                            G√ºnl√ºk Ders
                                            Saati</label><input type="number" id="ogretmen-max-gunluk-ders"
                                            placeholder="√ñrn: 8"></div>
                                    <div class="form-group"><label for="ogretmen-max-ardisik-ders">Maksimum
                                            Ardƒ±≈üƒ±k Ders
                                            Saati</label><input type="number" id="ogretmen-max-ardisik-ders"
                                            placeholder="√ñrn: 3"></div>
                                    <div class="form-group"><label for="ogretmen-gunluk-denge">G√ºnl√ºk Ders Y√ºk√º
                                            Dengesi
                                            (Max Fark)</label><input type="number" id="ogretmen-gunluk-denge"
                                            placeholder="√ñrn: 2 Saat"></div>
                                    <div class="form-group"><label for="ogretmen-max-bosluk">G√ºndeki Maksimum
                                            Bo≈üluk</label><input type="number" id="ogretmen-max-bosluk"
                                            placeholder="√ñrn: 1 Saat"></div>
                                </div>
                                <div class="button-group" style="margin-top: 20px;">
                                    <button id="ogretmen-kural-kaydet-btn" class="btn btn-save"
                                        style="width: 100%;">√ñƒüretmen
                                        Kurallarƒ±nƒ± Kaydet</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        </main>
        <div id="edit-gorevlendirme-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Detaylƒ± Ders G√∂revlendirme D√ºzenle</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="editGorevlendirmeForm">
                        <input type="hidden" id="edit-g-id">
                        <div class="form-grid" style="grid-template-columns: 1fr 2fr 1fr;">
                            <div class="form-group">
                                <label for="edit-g-tarih">Tarih</label>
                                <input type="date" id="edit-g-tarih" disabled
                                    style="background: #eee; cursor: not-allowed;">
                            </div>
                            <div class="form-group">
                                <label for="edit-g-asil-ogretmen">Asƒ±l √ñƒüretmen</label>
                                <select id="edit-g-asil-ogretmen" disabled
                                    style="background: #eee; cursor: not-allowed;"></select>
                            </div>
                            <div class="form-group">
                                <label for="edit-g-neden">G√∂rev Nedeni</label>
                                <select id="edit-g-neden">
                                    <option value="">Neden Se√ßiniz...</option>
                                    <option value="Raporlu">Raporlu</option>
                                    <option value="ƒ∞zinli (√úcretli)">ƒ∞zinli (√úcretli)</option>
                                    <option value="ƒ∞zinli (√úcretsiz)">ƒ∞zinli (√úcretsiz)</option>
                                    <option value="Seminer/Kurs">Seminer/Kurs</option>
                                    <option value="G√∂revli ƒ∞zinli">G√∂revli ƒ∞zinli</option>
                                    <option value="Diƒüer">Diƒüer</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="edit-g-aciklama">Genel A√ßƒ±klama</label>
                            <input type="text" id="edit-g-aciklama">
                        </div>

                        <h4
                            style="margin-top: 20px; border-top: 1px solid #ccc; padding-top: 15px; margin-bottom: 10px;">
                            Atanan Ders Detaylarƒ±
                        </h4>
                        <div id="edit-g-ders-listesi-container"
                            style="max-height: 400px; overflow-y: auto; padding-right: 10px;">
                            <p>Ders detaylarƒ± y√ºkleniyor...</p>
                        </div>

                        <div class="button-group" style="margin-top:20px;">
                            <button type="submit" class="btn btn-save">Deƒüi≈üiklikleri Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div id="edit-setting-modal" class="modal">
            <div class="modal-content" style="max-width: 500px;">
                <div class="modal-header">
                    <h3 id="edit-setting-modal-title">Ayar Adƒ±nƒ± D√ºzenle</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="edit-setting-input">Ad</label>
                        <input type="text" id="edit-setting-input">
                    </div>
                    <div class="form-group" id="edit-kisaltma-group" style="display: none;">
                        <label for="edit-setting-kisaltma-input">Kƒ±saltma (3 Harf)</label>
                        <input type="text" id="edit-setting-kisaltma-input" maxlength="3"
                            style="text-transform: uppercase;">
                    </div>
                    <div class="button-group">
                        <button id="edit-setting-save-btn" class="btn btn-save">Deƒüi≈üiklikleri Kaydet</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="add-staff-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">Yeni Personel Ekle</h3><button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="personelForm"></form>
                </div>
            </div>
        </div>
        <div id="edit-modal-overlay" class="modal-overlay">
            <div class="modal-content">
                <h3 id="p-modal-title">Puantaj G√ºn√º D√ºzenle</h3>
                <div class="form-group"><label for="modal-status">Durum</label><select id="modal-status"></select></div>
                <div class="form-group"><label for="modal-hours">√áalƒ±≈üƒ±lan Ders Saati</label><input type="number"
                        id="modal-hours" min="0" max="12"></div>
                <div class="form-group"><label for="modal-notes">A√ßƒ±klama</label><input type="text" id="modal-notes"
                        placeholder="Opsiyonel not..."></div>
                <div class="modal-buttons"><button id="modal-cancel" class="btn">ƒ∞ptal</button><button id="modal-save"
                        class="btn">Kaydet</button></div>
            </div>
        </div>
        <div id="edit-nobet-modal" class="modal">
            <div class="modal-content" style="max-width: 600px;">
                <div class="modal-header">
                    <h3>N√∂bet Kaydƒ±nƒ± D√ºzenle</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="edit-nobet-form">
                        <input type="hidden" id="edit-nobet-id">
                        <div class="form-grid" style="grid-template-columns: 1fr 2fr 2fr; align-items: flex-end;">
                            <div class="form-group">
                                <label for="edit-nobet-tarih">Tarih</label>
                                <input type="date" id="edit-nobet-tarih">
                            </div>
                            <div class="form-group">
                                <label for="edit-nobet-personel">N√∂bet√ßi Personel</label>
                                <select id="edit-nobet-personel"></select>
                            </div>
                            <div class="form-group">
                                <label for="edit-nobet-yeri">N√∂bet Yeri</label>
                                <select id="edit-nobet-yeri"></select>
                            </div>
                        </div>
                        <div class="button-group" style="margin-top: 20px;">
                            <button type="submit" class="btn btn-save">Deƒüi≈üiklikleri Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div id="toplu-izin-modal" class="modal">
            <div class="modal-content" style="max-width: 700px;">
                <div class="modal-header">
                    <h3>Toplu ƒ∞zin Giri≈üi</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <p
                        style="margin-top: 0; margin-bottom: 20px; background-color: #eef1f3; padding: 10px; border-radius: 5px; border: 1px solid #dee2e6;">
                        Bu ekranƒ± kullanarak se√ßili personellere aynƒ± anda, belirtilen tarihler arasƒ±nda izin
                        atayabilirsiniz. Bu i≈ülem, her bir personel i√ßin ayrƒ± bir izin kaydƒ± olu≈üturacaktƒ±r.
                    </p>
                    <div class="form-grid"
                        style="grid-template-columns: 1fr 1fr 2fr; margin-bottom: 20px; align-items: flex-end;">
                        <div class="form-group">
                            <label for="toplu-izin-baslangic">Ba≈ülangƒ±√ß Tarihi</label>
                            <input type="date" id="toplu-izin-baslangic">
                        </div>
                        <div class="form-group">
                            <label for="toplu-izin-bitis">Biti≈ü Tarihi</label>
                            <input type="date" id="toplu-izin-bitis">
                        </div>
                        <div class="form-group">
                            <label for="toplu-izin-tipi">ƒ∞zin Tipi</label>
                            <select id="toplu-izin-tipi">
                                <option value="">ƒ∞zin Tipi Se√ßiniz...</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="margin-bottom: 10px;">ƒ∞zin Atanacak Personeller</label>
                        <div id="toplu-personel-listesi"
                            style="height: 300px; overflow-y: auto; border: 1px solid var(--border-color); padding: 15px; border-radius: 6px; background: #fdfdfd; display: flex; flex-direction: column; gap: 8px;">
                            <p>Personel listesi y√ºkleniyor...</p>
                        </div>
                    </div>
                    <div class="button-group" style="margin-top: 25px;">
                        <button id="toplu-izin-kaydet-btn" class="btn btn-save">Se√ßili Personellere ƒ∞zin Ata</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="dilekce-date-modal" class="modal">
            <div class="modal-content" style="max-width: 450px;">
                <div class="modal-header">
                    <h3>Dilek√ße Tarihini Belirtin</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <p>L√ºtfen dilek√ßenin √ºzerinde g√∂r√ºnecek resmi tarihi se√ßiniz.</p>
                    <div class="form-group">
                        <label for="dilekce-tarih-input">Dilek√ße Tarihi</label>
                        <input type="date" id="dilekce-tarih-input">
                    </div>
                    <div class="button-group">
                        <button id="generate-dilekce-with-date-btn" class="btn btn-save">Dilek√ßeyi Olu≈ütur</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="confirmation-modal" class="modal">
            <div class="modal-content" style="max-width: 500px; text-align: center;">
                <div class="modal-header">
                    <h3 id="confirmation-modal-title">ƒ∞≈ülemi Onayla</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="confirmation-modal-message" style="font-size: 1.1em; line-height: 1.5;"></p>
                    <div class="confirmation-buttons" style="margin-top: 25px;">
                        <button id="confirm-cancel-btn" class="btn" style="background-color: #6c757d;">ƒ∞ptal</button>
                        <button id="confirm-action-btn" class="btn btn-confirm">Onayla</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="edit-izin-modal" class="modal">
            <div class="modal-content" style="max-width: 700px;">
                <div class="modal-header">
                    <h3>ƒ∞zin Kaydƒ±nƒ± D√ºzenle</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="edit-izin-form">
                        <input type="hidden" id="edit-izin-id">
                        <div class="form-grid" style="grid-template-columns: 2fr 1.5fr 1fr 1fr; align-items: flex-end;">
                            <div class="form-group">
                                <label for="edit-izin-personel">Personel</label>
                                <select id="edit-izin-personel" disabled></select>
                            </div>
                            <div class="form-group">
                                <label for="edit-izin-tipi">ƒ∞zin Tipi</label>
                                <select id="edit-izin-tipi"></select>
                            </div>
                            <div class="form-group">
                                <label for="edit-izin-baslangic">Ba≈ülangƒ±√ß Tarihi</label>
                                <input type="date" id="edit-izin-baslangic">
                            </div>
                            <div class="form-group">
                                <label for="edit-izin-bitis">Biti≈ü Tarihi</label>
                                <input type="date" id="edit-izin-bitis">
                            </div>
                            <div class="form-group" style="grid-column: 1 / -1;">
                                <label for="edit-izin-aciklama">A√ßƒ±klama / Not</label>
                                <input type="text" id="edit-izin-aciklama" placeholder="ƒ∞zinle ilgili kƒ±sa bir not...">
                            </div>
                        </div>
                        <div class="button-group" style="margin-top: 25px;">
                            <button type="submit" class="btn btn-save">Deƒüi≈üiklikleri Kaydet</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div id="edit-password-modal" class="modal">
            <div class="modal-content" style="max-width: 500px;">
                <div class="modal-header">
                    <h3 id="edit-password-modal-title">≈ûifreyi Deƒüi≈ütir</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="edit-password-form">
                        <input type="hidden" id="edit-password-uid">
                        <div class="form-group">
                            <label for="new-password">Yeni ≈ûifre (En az 6 karakter)</label>
                            <input type="password" id="new-password" required minlength="6">
                        </div>
                        <div class="form-group">
                            <label for="confirm-password">Yeni ≈ûifre (Tekrar)</label>
                            <input type="password" id="confirm-password" required minlength="6">
                        </div>
                        <div class="button-group">
                            <button type="submit" class="btn btn-save">≈ûifreyi G√ºncelle</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <template id="personel-form-template">
            <div class="form-grid">
                <div class="form-group">
                    <label for="ad_soyad">Adƒ± Soyadƒ±:</label>
                    <input type="text" id="ad_soyad" name="ad_soyad" required>
                </div>

                <div class="form-group">
                    <label for="tc_kimlik_no">T.C. Kimlik No:</label>
                    <input type="text" id="tc_kimlik_no" name="tc_kimlik_no">
                </div>
                <div class="form-group">
                    <label for="sgk_no">SGK No:</label>
                    <input type="text" id="sgk_no" name="sgk_no">
                </div>
                <div class="form-group">
                    <label for="personel_nevisi">Personel Nevisi:</label>
                    <select id="personel_nevisi" name="personel_nevisi" required>
                        <option value="" disabled selected>Se√ßim yapƒ±nƒ±z...</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="gorevi_bransi">G√∂revi / Bran≈üƒ±:</label>
                    <select id="gorevi_bransi" name="gorevi_bransi" required>
                        <option value="" disabled selected>√ñnce Personel Nevisi se√ßin</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Kademe</label>
                    <select id="kademe" name="kademe">
                        <option value="ƒ∞lkokul">ƒ∞lkokul</option>
                        <option value="Ortaokul">Ortaokul</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="sozlesme_turu">S√∂zle≈üme T√ºr√º:</label>
                    <select id="sozlesme_turu" name="sozlesme_turu">
                        <option value="Belirsiz S√ºreli">Belirsiz S√ºreli S√∂zle≈üme</option>
                        <option value="Belirli S√ºreli">Belirli S√ºreli S√∂zle≈üme</option>
                        <option value="Kƒ±smi S√ºreli">Kƒ±smi S√ºreli S√∂zle≈üme</option>
                    </select>
                </div>
                <div class="form-group" id="degisiklik_tarihi_div"
                    style="display: none; background-color: #fffbe6; padding: 10px; border-radius: 6px; border: 1px solid #ffe58f;">
                    <label for="degisiklik_tarihi" style="color: #8a6d3b; font-weight: bold;">S√∂zle≈üme Deƒüi≈üiklik
                        Tarihi:</label>
                    <p style="font-size: 0.85em; margin: 0 0 8px 0; color: #8a6d3b;">L√ºtfen bu yeni s√∂zle≈üme t√ºr√ºn√ºn
                        ge√ßerli olacaƒüƒ± ba≈ülangƒ±√ß tarihini se√ßin.</p>
                    <input type="date" id="degisiklik_tarihi" name="degisiklik_tarihi">
                </div>
                <div class="form-group full-width" id="kismi_zamanli_div"
                    style="display: none; background-color: #f0f3f5; padding: 15px; border-radius: 6px;">
                    <label style="font-weight: bold; color: var(--theme-primary); margin-bottom: 5px;">Kƒ±smi Zamanlƒ±
                        √áalƒ±≈üma Saatleri</label>
                    <p style="font-size: 0.9em; margin-top: 0;">L√ºtfen personelin haftalƒ±k √ßalƒ±≈üma g√ºnlerini ve g√ºnl√ºk
                        saatlerini belirtin.</p>
                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 20px;">
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center;">
                                <input type="checkbox" id="pzts_calisiyor" name="kismi_gunler" value="Pazartesi"
                                    style="width: auto; margin-right: 8px;">
                                <label for="pzts_calisiyor" style="margin: 0; font-weight: normal;">Pazartesi</label>
                            </div>
                            <div>
                                <input type="number" id="pzts_saat" name="pzts_saat" min="0" max="12"
                                    style="width: 60px; padding: 8px;">
                                <span style="margin-left: 5px;">saat</span>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center;">
                                <input type="checkbox" id="sali_calisiyor" name="kismi_gunler" value="Salƒ±"
                                    style="width: auto; margin-right: 8px;">
                                <label for="sali_calisiyor" style="margin: 0; font-weight: normal;">Salƒ±</label>
                            </div>
                            <div>
                                <input type="number" id="sali_saat" name="sali_saat" min="0" max="12"
                                    style="width: 60px; padding: 8px;">
                                <span style="margin-left: 5px;">saat</span>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center;">
                                <input type="checkbox" id="crs_calisiyor" name="kismi_gunler" value="√áar≈üamba"
                                    style="width: auto; margin-right: 8px;">
                                <label for="crs_calisiyor" style="margin: 0; font-weight: normal;">√áar≈üamba</label>
                            </div>
                            <div>
                                <input type="number" id="crs_saat" name="crs_saat" min="0" max="12"
                                    style="width: 60px; padding: 8px;">
                                <span style="margin-left: 5px;">saat</span>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center;">
                                <input type="checkbox" id="prs_calisiyor" name="kismi_gunler" value="Per≈üembe"
                                    style="width: auto; margin-right: 8px;">
                                <label for="prs_calisiyor" style="margin: 0; font-weight: normal;">Per≈üembe</label>
                            </div>
                            <div>
                                <input type="number" id="prs_saat" name="prs_saat" min="0" max="12"
                                    style="width: 60px; padding: 8px;">
                                <span style="margin-left: 5px;">saat</span>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center;">
                                <input type="checkbox" id="cuma_calisiyor" name="kismi_gunler" value="Cuma"
                                    style="width: auto; margin-right: 8px;">
                                <label for="cuma_calisiyor" style="margin: 0; font-weight: normal;">Cuma</label>
                            </div>
                            <div>
                                <input type="number" id="cuma_saat" name="cuma_saat" min="0" max="12"
                                    style="width: 60px; padding: 8px;">
                                <span style="margin-left: 5px;">saat</span>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center;">
                                <input type="checkbox" id="cmrts_calisiyor" name="kismi_gunler" value="Cumartesi"
                                    style="width: auto; margin-right: 8px;">
                                <label for="cmrts_calisiyor" style="margin: 0; font-weight: normal;">Cumartesi</label>
                            </div>
                            <div>
                                <input type="number" id="cmrts_saat" name="cmrts_saat" min="0" max="12"
                                    style="width: 60px; padding: 8px;">
                                <span style="margin-left: 5px;">saat</span>
                            </div>
                        </div>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center;">
                                <input type="checkbox" id="pazar_calisiyor" name="kismi_gunler" value="Pazar"
                                    style="width: auto; margin-right: 8px;">
                                <label for="pazar_calisiyor" style="margin: 0; font-weight: normal;">Pazar</label>
                            </div>
                            <div>
                                <input type="number" id="pazar_saat" name="pazar_saat" min="0" max="12"
                                    style="width: 60px; padding: 8px;">
                                <span style="margin-left: 5px;">saat</span>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="form-group">
                    <label>Cinsiyet:</label>
                    <div class="radio-group">
                        <div><input type="radio" id="cinsiyet_kadin" name="cinsiyet" value="kadin" checked><label
                                for="cinsiyet_kadin">Kadƒ±n</label></div>
                        <div><input type="radio" id="cinsiyet_erkek" name="cinsiyet" value="erkek"><label
                                for="cinsiyet_erkek">Erkek</label></div>
                    </div>
                </div>
                <div class="form-group">
                    <label>E≈ü Durumu:</label>
                    <div class="radio-group">
                        <div><input type="radio" id="es_calismiyor" name="es_durumu" value="√ßalƒ±≈ümƒ±yor" checked><label
                                for="es_calismiyor">√áalƒ±≈ümƒ±yor</label></div>
                        <div><input type="radio" id="es_calisiyor" name="es_durumu" value="√ßalƒ±≈üƒ±yor"><label
                                for="es_calisiyor">√áalƒ±≈üƒ±yor</label></div>
                        <div><input type="radio" id="es_bekar" name="es_durumu" value="bekar"><label
                                for="es_bekar">Bekar</label></div>
                    </div>
                </div>
                <div class="form-group" id="rehberlik_gorevi_div">
                    <label>Rehberlik G√∂revi Var Mƒ±?:</label>
                    <div class="radio-group">
                        <div><input type="radio" id="rehberlik_yok" name="rehberlik_gorevi" value="hayir" checked><label
                                for="rehberlik_yok">Hayƒ±r</label></div>
                        <div><input type="radio" id="rehberlik_var" name="rehberlik_gorevi" value="evet"><label
                                for="rehberlik_var">Evet (Haftalƒ±k 2 Saat)</label></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="cocuk_0_6">√áocuk Sayƒ±sƒ± (0-6 Ya≈ü):</label>
                    <input type="number" id="cocuk_0_6" name="cocuk_0_6" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="cocuk_6_ustu">√áocuk Sayƒ±sƒ± (6-18 Ya≈ü):</label>
                    <input type="number" id="cocuk_6_ustu" name="cocuk_6_ustu" min="0" value="0">
                </div>
                <div class="form-group">
                    <label for="ise_giris">ƒ∞≈üe Giri≈ü Tarihi:</label>
                    <input type="date" id="ise_giris" name="ise_giris" required>
                </div>
                <div class="form-group">
                    <label for="isten_ayrilis">ƒ∞≈üten Ayrƒ±lƒ±≈ü Tarihi:</label>
                    <input type="date" id="isten_ayrilis" name="isten_ayrilis">
                </div>
                <div class="form-group" id="maas_karsiligi_div">
                    <label for="maas_karsiligi">Maa≈ü Kar≈üƒ±lƒ±ƒüƒ± Ders Saati:</label>
                    <input type="number" id="maas_karsiligi" name="maas_karsiligi" min="0" value="20">
                </div>
                <div class="form-group full-width">
                    <label for="aciklama">A√ßƒ±klama:</label>
                    <textarea id="aciklama" name="aciklama" rows="3"></textarea>
                </div>
                <div class="form-group full-width button-group">
                    <button type="submit" class="btn btn-save">Personeli Kaydet</button>
                </div>
            </div>
        </template>
        <div id="ekders-detay-modal" class="modal">
            <div class="modal-content" style="max-width: 550px;">
                <div class="modal-header">
                    <h3 id="ekders-modal-title">Ek Ders Detaylarƒ±</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div style="margin-bottom: 15px;">
                        <span style="display: block; font-size: 1.1em;">Personel: <strong
                                id="ekders-personel-adi">...</strong></span>
                        <span style="display: block; color: #555;">D√∂nem: <strong id="ekders-donem">...</strong></span>
                    </div>
                    <table class="staff-table">
                        <thead>
                            <tr>
                                <th>Ek Ders Kalemi</th>
                                <th>Saat</th>
                            </tr>
                        </thead>
                        <tbody id="ekders-detay-tbody">
                            <tr>
                                <td>Hesaplanƒ±yor...</td>
                                <td>...</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr style="background-color: #f8f9fa;">
                                <td style="text-align: right; font-weight: bold;">TOPLAM EK DERS</td>
                                <td style="font-weight: bold; font-size: 1.2em;" id="ekders-toplam">0</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
        <div id="personel-detay-modal" class="modal">
            <div class="modal-content" style="max-width: 1000px;">
                <div class="modal-header">
                    <h3 id="personel-detay-modal-title">Personel Profili</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="settings-tabs" id="personel-detay-tabs">
                        <button class="settings-tab-button active" data-tab="detay-tab-bilgiler">Ki≈üisel
                            Bilgiler</button>
                        <button class="settings-tab-button" data-tab="detay-tab-izinler">ƒ∞zin Ge√ßmi≈üi</button>
                        <button class="settings-tab-button" data-tab="detay-tab-nobetler">N√∂bet Ge√ßmi≈üi</button>
                        <button class="settings-tab-button" data-tab="detay-tab-hizmet">Hizmet Ge√ßmi≈üi</button>
                        <button class="settings-tab-button" data-tab="detay-tab-belgeler">Belgeler</button>
                    </div>

                    <div id="detay-tab-bilgiler" class="settings-tab-content active">
                        <div id="personel-bilgileri-container" style="padding: 20px;">
                            <p>Personel bilgileri y√ºkleniyor...</p>
                        </div>
                    </div>

                    <div id="detay-tab-izinler" class="settings-tab-content">
                        <div id="personel-izin-gecmisi-container" class="table-container"
                            style="margin-top: 20px; max-height: 450px; overflow-y: auto;">
                            <p style="padding: 20px;">ƒ∞zin ge√ßmi≈üi y√ºkleniyor...</p>
                        </div>
                    </div>

                    <div id="detay-tab-nobetler" class="settings-tab-content">
                        <div id="personel-nobet-gecmisi-container" class="table-container"
                            style="margin-top: 20px; max-height: 450px; overflow-y: auto;">
                            <p style="padding: 20px;">N√∂bet ge√ßmi≈üi y√ºkleniyor...</p>
                        </div>
                    </div>

                    <div id="detay-tab-hizmet" class="settings-tab-content">
                    </div>

                    <div id="detay-tab-belgeler" class="settings-tab-content">
                        <p style="padding: 20px; text-align: center; color: #777;">Bu √∂zellik yakƒ±nda eklenecektir.</p>
                    </div>
                </div>
            </div>
        </div>
        <div id="save-schedule-modal" class="modal">
            <div class="modal-content" style="max-width: 500px;">
                <div class="modal-header">
                    <h3>Programƒ± Kaydet</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Bu ders programƒ± versiyonu i√ßin bir isim belirleyin. √ñrn: "Final Programƒ±", "Taslak V2"</p>
                    <div class="form-group">
                        <label for="schedule-name-input">Program Adƒ±</label>
                        <input type="text" id="schedule-name-input" placeholder="Program Adƒ±">
                    </div>
                    <div class="form-group">
                        <label>Ge√ßerlilik Tarihi</label>
                        <input type="text" id="schedule-date-display" disabled style="font-weight: bold;">
                    </div>
                    <div class="button-group">
                        <button id="save-schedule-with-name-btn" class="btn btn-save">ƒ∞sim Ver ve Kaydet</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="progress-modal" class="modal">
            <div class="modal-content" style="max-width: 600px;">
                <div class="modal-header">
                    <h3 id="progress-modal-title">Otomatik Programlama S√ºr√ºyor...</h3>
                </div>
                <div class="modal-body" style="text-align: center;">
                    <p>L√ºtfen bekleyin, en uygun ders programƒ± olu≈üturuluyor.</p>
                    <progress id="scheduler-progress-bar" value="0" max="100"
                        style="width: 100%; height: 25px;"></progress>
                    <p style="font-weight: bold; font-size: 1.2em;"><span id="progress-percentage">0</span>%</p>
                    <div id="progress-status-text"
                        style="margin-top: 15px; min-height: 20px; font-style: italic; color: #555;">
                        ƒ∞≈ülem ba≈ülatƒ±lƒ±yor...
                    </div>
                    <div id="progress-suggestion-text"
                        style="margin-top: 10px; min-height: 60px; padding: 10px; background-color: #fffbe6; border: 1px solid #ffe58f; border-radius: 6px; color: #8a6d3b; font-weight: 500; display: none;">
                    </div>
                </div>
            </div>
        </div>
        <div id="kopyala-program-modal" class="modal">
            <div class="modal-content" style="max-width: 450px;">
                <div class="modal-header">
                    <h3>Programƒ± Kopyala</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Mevcut ders programƒ±, se√ßeceƒüiniz yeni tarih i√ßin bir kopya olarak olu≈üturulacaktƒ±r.</p>
                    <div class="form-group">
                        <label for="kopya-tarih-input">Yeni Ge√ßerlilik Tarihi</label>
                        <input type="date" id="kopya-tarih-input">
                    </div>
                    <div class="button-group">
                        <button id="kaydet-kopya-btn" class="btn btn-save">Kopyayƒ± Kaydet</button>
                    </div>
                </div>
            </div>
        </div>
        <div id="matrix-modal" class="modal">
            <div class="modal-content" style="max-width: 95%; width: 95%;">
                <div class="modal-header">
                    <h3 id="matrix-modal-title">Matris G√∂r√ºn√ºm√º</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body" id="matrix-modal-body" style="padding: 15px;">
                </div>
            </div>
        </div>
        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('service-worker.js').then(registration => {

                    }, err => {

                    });
                });
            }
        </script>
        <script type="module" src="app.js"></script>
</body>

</html>